# Custom opentelemetry-collector POC

This is a point of code where I'm building a custom collector of opentelemetry with a custom receiver that simulate receive a accesslog and generate metrics. 


## aclreceiver module

First we had to initiliaze the module with a mock path to enable the import reference in the custom-collector.

In this moudle you will find three files
* `config.go`
* `factory.go`
* `aclreceiver.go`

Here the most important is file is the aclreceiver which implement the `start` and `shutdown` methods that handle the receiver.
Initialy it was made with a ticker system because was take as an example of an scrape interval.

## Toolings

A custom collector was necessary make to can build the aclreceiver. It was autogenerated with de `ocb` tool, that need a `builder.yaml` to indicate which otel components will be used 

## Running the custom receiver 

To run the customer receiver you can use the following command:

`go run ./custom-collector --config config.yaml` 

